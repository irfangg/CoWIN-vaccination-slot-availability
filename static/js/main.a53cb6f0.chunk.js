(this["webpackJsonpcowin-vaccination-slot-availability"]=this["webpackJsonpcowin-vaccination-slot-availability"]||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(12),s=c.n(i),r=(c(33),c.p,c(34),c(64)),d=c(8),l=c(14),j=c.n(l),o=c(70),b=c(65),u=c(66),h=c(69),O=c(67),x=c(68),m=c(2),p=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)([]),l=Object(d.a)(s,2),p=l[0],f=l[1],g=Object(n.useState)("Select state"),v=Object(d.a)(g,2),y=(v[0],v[1]),_=Object(n.useState)("Select state"),S=Object(d.a)(_,2),w=S[0],N=S[1],T=Object(n.useState)("Select district"),C=Object(d.a)(T,2),F=C[0],k=C[1],A=Object(n.useState)([]),D=Object(d.a)(A,2),M=D[0],I=D[1],B=Object(n.useState)([]),K=Object(d.a)(B,2),L=K[0],P=K[1],E=Object(n.useState)({}),J=Object(d.a)(E,2),R=J[0],Y=J[1];Object(n.useEffect)((function(){j.a.get("//cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){return i(e.data.states)}))}),[]);var q=function(e){var t=c.find((function(t){return t.state_id==e}));y(t),N(t.state_name||"Try selecting different"),j.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(t.state_id)).then((function(e){return f(e.data.districts)}))},z=function(e){var t=p.find((function(t){return t.district_id==e}));k(t.district_name||"Try different"),j.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(t.district_id,"&date=").concat(function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),c=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return"".concat(t,"-").concat(c,"-").concat(n)}())).then((function(e){return P(e.data.centers),console.log(e.data.centers,e.data.centers.map((function(e){return"".concat(e.pincode,"-").concat(e.address)}))),I(e.data.centers.map((function(e){return{pincode:e.pincode,address:e.address,center_id:e.center_id}})))}))},G=function(e){var t=L.find((function(t){return t.center_id==e}));Y(t)},H=a.a.forwardRef((function(e,t){var c=e.children,i=e.style,s=e.className,r=e["aria-labelledby"],l=Object(n.useState)(""),j=Object(d.a)(l,2),b=j[0],u=j[1];return String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),Object(m.jsxs)("div",{ref:t,style:i,className:s,"aria-labelledby":r,children:[Object(m.jsx)(o.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",onChange:function(e){return u(e.target.value)},value:b}),Object(m.jsx)("ul",{className:"list-unstyled",children:a.a.Children.toArray(c).filter((function(e){return!b||e.props.children.toLowerCase().includes(b)}))})]})}));return Object(m.jsxs)(r.a,{fluid:!0,children:[Object(m.jsx)(b.a,{className:"mt-2",children:"Dashboard"}),Object(m.jsxs)(b.a,{className:"mt-2 mb-2",children:[Object(m.jsx)(u.a,{xl:4,lg:4,md:4,sm:12,xs:12,children:c.length?Object(m.jsxs)(h.a,{as:O.a,children:[Object(m.jsx)(h.a.Toggle,{id:"dropdown-custom-1",children:w}),Object(m.jsx)(h.a.Menu,{as:H,children:c.map((function(e,t){return Object(m.jsx)(h.a.Item,{eventKey:e.state_id,onSelect:q,children:e.state_name},e.state_id)}))})]}):null}),Object(m.jsx)(u.a,{xl:4,lg:4,md:4,sm:12,xs:12,children:p.length?Object(m.jsxs)(h.a,{as:O.a,children:[Object(m.jsx)(h.a.Toggle,{id:"dropdown-custom-1",children:F}),Object(m.jsx)(h.a.Menu,{as:H,children:p.map((function(e,t){return Object(m.jsx)(h.a.Item,{eventKey:e.district_id,onSelect:z,children:e.district_name},e.district_id)}))})]}):null}),Object(m.jsx)(u.a,{xl:4,lg:4,md:4,sm:12,xs:12,children:M.length?Object(m.jsxs)(h.a,{as:O.a,children:[Object(m.jsx)(h.a.Toggle,{id:"dropdown-custom-1",children:"Pincode"}),Object(m.jsx)(h.a.Menu,{as:H,children:M.map((function(e,t){return Object(m.jsx)(h.a.Item,{eventKey:e.center_id,onSelect:G,children:"".concat(e.pincode,"-").concat(e.address)},t)}))})]}):null})]}),0!==Object.keys(R).length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(b.a,{className:"mt-2",children:[Object(m.jsxs)(u.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["Address: ",R.address]}),Object(m.jsxs)(u.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["Block name: ",R.block_name]}),Object(m.jsxs)(u.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["vaccine fee: ",R.fee_type]}),Object(m.jsxs)(u.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["Center name: ",R.name]})]}),Object(m.jsx)(b.a,{className:"mt-2",children:Object(m.jsx)(u.a,{xs:12,children:Object(m.jsxs)(x.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Date"}),Object(m.jsx)("th",{children:"Available capacity"}),Object(m.jsx)("th",{children:"Min age limit"}),Object(m.jsx)("th",{children:"vaccine"}),Object(m.jsx)("th",{children:"slots"}),Object(m.jsx)("th",{children:"Available dose1"}),Object(m.jsx)("th",{children:"Available dose2"})]})}),Object(m.jsx)("tbody",{children:R.sessions.map((function(e){var t=e.date,c=e.available_capacity,n=e.available_capacity_dose1,a=e.available_capacity_dose2,i=e.min_age_limit,s=e.vaccine,r=e.slots;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t}),Object(m.jsx)("td",{children:c}),Object(m.jsx)("td",{children:i}),Object(m.jsx)("td",{children:s}),Object(m.jsx)("td",{children:r.map((function(e){return Object(m.jsx)("div",{children:e})}))}),Object(m.jsx)("td",{children:n}),Object(m.jsx)("td",{children:a})]})}))})]})})})]}):null]})};var f=function(){return Object(m.jsx)(r.a,{fluid:!0,className:"App",children:Object(m.jsx)(p,{})})},g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};c(59);s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(f,{})}),document.getElementById("root")),g()}},[[60,1,2]]]);
//# sourceMappingURL=main.a53cb6f0.chunk.js.map