(this["webpackJsonpcowin-vaccination-slot-availability"]=this["webpackJsonpcowin-vaccination-slot-availability"]||[]).push([[0],{43:function(t,e,c){},44:function(t,e,c){},68:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),i=c(15),s=c.n(i),r=(c(43),c.p,c(44),c(72)),d=c(9),l=c(22),j=c.n(l),o=c(73),b=c(74),h=c(75),u=c(76),O=c(37),x=c(77),m=c(2),p=function(){var t=Object(n.useState)([]),e=Object(d.a)(t,2),c=e[0],a=e[1],i=Object(n.useState)([]),s=Object(d.a)(i,2),l=s[0],p=s[1],v=Object(n.useState)("Select state"),f=Object(d.a)(v,2),g=(f[0],f[1]),_=Object(n.useState)("Select state"),y=Object(d.a)(_,2),S=y[0],w=y[1],k=Object(n.useState)("Select district"),D=Object(d.a)(k,2),F=D[0],A=D[1],I=Object(n.useState)([]),N=Object(d.a)(I,2),B=N[0],C=N[1],T=Object(n.useState)([]),K=Object(d.a)(T,2),M=K[0],E=K[1],J=Object(n.useState)({}),L=Object(d.a)(J,2),P=L[0],Y=L[1];Object(n.useEffect)((function(){j.a.get("//cdn-api.co-vin.in/api/v2/admin/location/states").then((function(t){return a(t.data.states)}))}),[]);var q=function(t){var e=c.find((function(e){return e.state_id==t}));g(e),w(e.state_name||"Try selecting different"),j.a.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(e.state_id)).then((function(t){return p(t.data.districts)}))},z=function(t){var e=l.find((function(e){return e.district_id==t}));A(e.district_name||"Try different"),j.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(e.district_id,"&date=").concat(function(){var t=new Date,e=String(t.getDate()).padStart(2,"0"),c=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();return"".concat(e,"-").concat(c,"-").concat(n)}())).then((function(t){return E(t.data.centers),console.log(t.data.centers,t.data.centers.map((function(t){return"".concat(t.pincode,"-").concat(t.address)}))),C(t.data.centers.map((function(t){return{pincode:t.pincode,address:t.address,center_id:t.center_id}})))}))},G=function(t){var e=M.find((function(e){return e.center_id==t}));Y(e)};return Object(m.jsxs)(r.a,{fluid:!0,children:[Object(m.jsx)(o.a,{className:"mt-2",children:"Dashboard"}),Object(m.jsxs)(o.a,{className:"mt-2 mb-2",children:[Object(m.jsx)(b.a,{xl:4,lg:4,md:4,sm:12,xs:12,children:c.length?Object(m.jsx)(h.a,{as:u.a,id:"dropdown-variants-primary",variant:"primary",title:S,children:c.map((function(t,e){return Object(m.jsx)(O.a.Item,{eventKey:t.state_id,onSelect:q,children:t.state_name},t.state_id)}))}):null}),Object(m.jsx)(b.a,{xl:4,lg:4,md:4,sm:12,xs:12,children:l.length?Object(m.jsx)(h.a,{as:u.a,id:"dropdown-variants-primary",variant:"primary",title:F,children:l.map((function(t,e){return Object(m.jsx)(O.a.Item,{eventKey:t.district_id,onSelect:z,children:t.district_name},t.district_id)}))}):null}),Object(m.jsx)(b.a,{xl:4,lg:4,md:4,sm:12,xs:12,children:B.length?Object(m.jsx)(h.a,{as:u.a,id:"dropdown-variants-primary",variant:"primary",title:"pincode",children:B.map((function(t,e){return Object(m.jsx)(O.a.Item,{eventKey:t.center_id,onSelect:G,children:"".concat(t.pincode,"-").concat(t.address)},e)}))}):null})]}),0!==Object.keys(P).length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(o.a,{className:"mt-2",children:[Object(m.jsxs)(b.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["Address: ",P.address]}),Object(m.jsxs)(b.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["Block name: ",P.block_name]}),Object(m.jsxs)(b.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["vaccine fee: ",P.fee_type]}),Object(m.jsxs)(b.a,{xl:3,lg:3,md:6,sm:6,xs:12,children:["Center name: ",P.name]})]}),Object(m.jsx)(o.a,{className:"mt-2",children:Object(m.jsx)(b.a,{xs:12,children:Object(m.jsxs)(x.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Date"}),Object(m.jsx)("th",{children:"Available capacity"}),Object(m.jsx)("th",{children:"Min age limit"}),Object(m.jsx)("th",{children:"vaccine"}),Object(m.jsx)("th",{children:"slots"}),Object(m.jsx)("th",{children:"Available dose1"}),Object(m.jsx)("th",{children:"Available dose2"})]})}),Object(m.jsx)("tbody",{children:P.sessions.map((function(t){var e=t.date,c=t.available_capacity,n=t.available_capacity_dose1,a=t.available_capacity_dose2,i=t.min_age_limit,s=t.vaccine,r=t.slots;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e}),Object(m.jsx)("td",{children:c}),Object(m.jsx)("td",{children:i}),Object(m.jsx)("td",{children:s}),Object(m.jsx)("td",{children:r.map((function(t){return Object(m.jsx)("div",{children:t})}))}),Object(m.jsx)("td",{children:n}),Object(m.jsx)("td",{children:a})]})}))})]})})})]}):null]})};var v=function(){return Object(m.jsx)(r.a,{fluid:!0,className:"App",children:Object(m.jsx)(p,{})})},f=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,78)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;c(t),n(t),a(t),i(t),s(t)}))};c(67);s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root")),f()}},[[68,1,2]]]);
//# sourceMappingURL=main.34a3b544.chunk.js.map